"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[847],{847:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(861),a=t(439),s=t(757),i=t.n(s),c=t(791),o=t(689),u=t(87),l=t(390),d=t(184);function h(){var e,n,t=(0,c.useState)(null),s=(0,a.Z)(t,2),h=s[0],p=s[1],f=(0,c.useState)(""),v=(0,a.Z)(f,2),j=v[0],g=v[1],x=(0,o.UO)().movieId,m=(0,o.TH)(),Z=(0,c.useRef)(null!==(e=null===m||void 0===m||null===(n=m.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/");return(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.v)("/movie/".concat(x));case 2:n=e.sent,p(n),g(n.genres.map((function(e){return e.name.toLowerCase()})).join(", "));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.rU,{to:Z.current,children:"\u2b9c Go back"}),";",!!h&&(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(h.poster_path),alt:h.title}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:h.title}),(0,d.jsxs)("p",{children:["Release date:"," ",new Date(h.release_date).toLocaleDateString("uk-UA")]}),(0,d.jsxs)("p",{children:["Genres: ",j]})," ",(0,d.jsxs)("p",{children:["Rating: ",Math.ceil(10*h.vote_average)+"%"]}),(0,d.jsx)("p",{children:h.overview})]}),(0,d.jsx)(u.rU,{to:"cast",children:"Team"}),(0,d.jsx)(u.rU,{to:"reviews",children:"Reviews"}),(0,d.jsx)(c.Suspense,{fallback:(0,d.jsx)("p",{children:"Loading..."}),children:(0,d.jsx)(o.j3,{})})]})]})}},390:function(e,n,t){t.d(n,{v:function(){return u}});var r,a=t(861),s=t(757),i=t.n(s),c=t(243),o=t(73);function u(e,n){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(i().mark((function e(n,t){var a,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.Z.CancelToken.source(),a=o.ZP.loading("Loading..."),s={id:a,duration:3e3},e.prev=3,e.next=6,(0,c.Z)(n,{cancelToken:r.token});case 6:return u=e.sent,l=u.data,t&&0===l[t].length?(0,o.ZP)("There are no data for your request",s):o.ZP.success("Ok. We found something!",s),e.abrupt("return",l);case 12:e.prev=12,e.t0=e.catch(3),o.ZP.error("Something goes wrong. Reload page",s);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}c.Z.defaults.baseURL="https://api.themoviedb.org/3",c.Z.defaults.headers={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWEyYjVkODRiMDI5YTNkNmI3ODJjYWI0MDM5NDM2MSIsInN1YiI6IjY1MDBhNjg4ZmZjOWRlMGVkZWQ0NDM3NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DBpPzdh_xDNK2b4lthob9TnOTsJbTHp8xNZgeluLuGQ"}}}]);
//# sourceMappingURL=847.c601934c.chunk.js.map